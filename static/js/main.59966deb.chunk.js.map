{"version":3,"sources":["services/cache.js","api/covid.js","api/flags.js","constants/filters.js","components/summary/tdItem.js","components/summary/table.js","services/calculations.js","icons/small.svg","icons/plus.svg","icons/expand.svg","components/summary/index.js","constants/missed.js","services/sorting.js","services/selectFilters.js","icons/keypad.svg","components/filters/index.js","components/countryList/index.js","components/worldMap/map/tooltip.js","components/worldMap/map/legend.js","icons/plus_map.svg","icons/minus_map.svg","components/worldMap/map/index.js","components/worldMap/index.js","components/graph/chart/index.js","components/graph/index.js","components/root/index.js","index.js"],"names":["setCache","cacheName","cacheValue","sessionStorage","setItem","JSON","stringify","getCache","cache","getItem","parse","BASE_URL","getDataCountryFromDays","country_slug","a","split","join","endPointCountries","axios","get","summaries","data","map","el","TotalConfirmed","Confirmed","TotalDeaths","Deaths","TotalRecovered","Recovered","getDataWorldFromDays","sort","b","date","Date","index","addDays","toDateString","getSummaries","getFlags","flags","filters","confirmed","deaths","recovered","all","lastDay","absolute","to100men","allowedNew","allowedTotal","TdItem","value","thNames","aria-label","Table","tableName","current","currentCountryTitle","userLang","navigator","language","items","Object","values","className","scope","i","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","populationWorld","calc100Men","population","Math","round","NewConfirmed","NewDeaths","NewRecovered","getData","result","currentDate","status","length","endOfToday","replace","relative","geography","getColorsFromFilters","color","getFilterName","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","id","stroke","strokeWidth","fill","fillRule","transform","points","SvgSmall","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","xmlnsXlink","ref","undefined","ForwardRef","d","SvgPlus","SvgExpand","Summary","handleMaximize","setState","fullSize","state","maximize","minimize","currentCountryObj","getByCountry","summariesCountries","getBySelect","currentTotal","currentCountry","defaultCountryTitle","defaultPosition","x","y","expanded","populationCountry","checkedAbsolute","checkedPer100k","checkedAll","checkedLastday","bind","handlePer100kChange","handleAbsoluteChange","handleLastDayChange","handleAllChange","countries","findCountry","filter","Country","find","object","allowed","includes","reduce","obj","e","countrySelected","globalFilters","per100k","totalObj","summariesSelect","countryObj","updateFilters","period","per100kTotal","per100kCountry","prevProps","position","onMouseDown","handleOnMouseUp","onClick","style","display","handleMinimize","handleFullSize","type","checked","onChange","React","Component","memo","missedFlags","missedPopulations","sortByParameter","parameter","getSortedBy","sortedBy","idx","SvgKeypad","Filters","options","dataForCountry","onRadioChangeRelative","onRadioChangePeriod","sortParameters","CountryList","onInputChange","filterText","onCountryClick","handleClickOnCountry","listRef","createRef","tbodyRef","containerRef","initKeyboard","prevState","snapshot","sortedByObj","country","TotalConfirmedPerPopulation","NewConfirmedPerPopulation","TotalDeathsPerPopulation","NewDeathsPerPopulation","TotalRecoveredPerPopulation","NewRecoveredPerPopulation","countryIdx","findIndex","children","scrollIntoView","behavior","block","scrollToActive","item","flag","amount","loading","src","alt","searchInput","document","getElementById","window","VKeyboard","init","keyboardToggle","name","toLowerCase","listItems","makeList","onFocus","placeholder","openKeyboard","Tooltip","dataCountry","customStyles","roundDijit","Data","toFixed","Legend","diffCoeff","useState","setExpanded","setFullSize","setMinimize","setMaximize","colSpan","backgroundColor","SvgPlusMap","SvgMinusMap","Map","selectedCountries","setSelectedCountries","setStyle","setDataCountry","scaleIndex","setScaleIndex","legend","updateLegend","updateDiffCoeff","mapPositionX","setMapPositionX","diffX","setDiffX","diffY","setDiffY","mapPositionY","setMapPositionY","isDragStart","setDragStart","summariesAfterCalculation","updateSummaries","zoomIndex","getFormatedCoefficient","coefficient","formattedCoefficiend","parseFloat","isNaN","useEffect","listOfCoef","Set","temp","el1","el2","summariesWithCoef","summaryForCountry","add","getColorForCountry","countryID","covidDataForCountry","mapCountries","CountryCode","shape","cursor","onMouseOver","evt","left","pageX","top","pageY","showCountry","onMouseOut","hideCountry","scaleMap","newScaleParam","onWheel","stopPropagation","deltaY","disabled","maxZoom","onMouseUp","onMouseMove","WorldMap","chartEvents","eventName","callback","chartWrapper","console","log","getChart","getSelection","getColors","statuses","colors","forEach","push","getColor","calculateMaxY","acc","curr","CovidChart","dataWorld","compare","correctData","resultArr","Array","isArray","prepereData","correctOptions","hAxis","viewWindow","min","max","vAxis","maxLines","chartArea","marginleft","animation","duration","easing","startup","prepereOptions","chartType","graphID","Graph","setCompare","world","htmlFor","Root","setSummaries","setFlags","dataWorldFromDays","setDataWorld","dataCountryFromDays","dataAll","setDataAll","dataMap","setDataMap","isLoaded","setIsLoaded","error","setError","indicatorsForFilter","updateIndicators","flagsResult","summariesResult","dataWorldFromDaysResult","Countries","fetchData","filtersStatus","getDataCountries","updateFilter","newFilterParams","getDataForCountry","dataCountryFromDaysResult","changeZIndex","querySelectorAll","zIndex","closest","Global","href","size","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.59966deb.chunk.js","sourcesContent":["export const setCache = (cacheName, cacheValue) => {\r\n  sessionStorage.setItem(cacheName, JSON.stringify(cacheValue));\r\n};\r\n\r\nexport const getCache = (cacheName) => {\r\n  const cache = sessionStorage.getItem(cacheName);\r\n  return JSON.parse(cache);\r\n};\r\n","import axios from 'axios';\r\nimport { parse, format, addDays, endOfToday } from 'date-fns';\r\nimport { setCache, getCache } from '../services/cache';\r\n\r\nconst cache = {};\r\nconst BASE_URL = 'https://api.covid19api.com/';\r\n\r\n/*\r\nСписок стран\r\nВозвращает массив из объектов вида data[n], country_slug - data[n].Slug, название страны - data[n].Country\r\n*/\r\nexport const getCovidCountries = async () => {\r\n  const endPointCountries = 'countries';\r\n  const { data: countries } = await axios.get(`${BASE_URL}${endPointCountries}`);\r\n  return countries;\r\n};\r\n\r\n/*\r\nВозвращает статистику всех статусов по стране по всем датам, массив объектов вида\r\n{\r\nCountry: \"China\",\r\nCountryCode: \"\",\r\nCityCode: \"\",\r\nLat: \"0\",\r\nLon: \"0\",\r\nConfirmed: 94025,\r\nDeaths: 4748,\r\nRecovered: 87707,\r\nActive: 1570,\r\nDate: \"2020-12-10T00:00:00Z\"\r\n}\r\n*/\r\nexport const getDataCountryFromDays = async (country_slug) => {\r\n  if(!country_slug) {\r\n    return;\r\n  }\r\n  country_slug = country_slug.split('(').join().split(')').join();\r\n  if (cache[country_slug]) {\r\n    return cache[country_slug];\r\n  }\r\n\r\n  if (getCache(country_slug)) {\r\n    return getCache(country_slug);\r\n  }\r\n\r\n  const endPointCountries = `total/country/${country_slug}`;\r\n  const { data: summaries } = await axios.get(`${BASE_URL}${endPointCountries}`);\r\n\r\n  cache[country_slug] = summaries.map((el) => {\r\n    return {\r\n      ...el,\r\n      TotalConfirmed: el.Confirmed,\r\n      TotalDeaths: el.Deaths,\r\n      TotalRecovered: el.Recovered,\r\n    }\r\n  });\r\n\r\n  // cache[country_slug] = summaries;\r\n  setCache(country_slug, cache[country_slug]);\r\n  return cache[country_slug];\r\n};\r\n\r\n/* Возвращает данные по стране за последний день, объект типа:\r\n{\r\nActive: 1570\r\nCityCode: \"\"\r\nConfirmed: 94025\r\nCountry: \"China\"\r\nCountryCode: \"\"\r\nDate: \"2020-12-10T00:00:00Z\"\r\nDeaths: 4748\r\nRecovered: 87707\r\n}\r\n*/\r\nexport const getDataCountryLastDay = async (country_slug) => {\r\n  if (cache[`${country_slug}_last_day`]) {\r\n    return cache[`${country_slug}_last_day`];\r\n  }\r\n\r\n  const currentDate = endOfToday();\r\n  const yesterday = addDays(currentDate, -1);\r\n  const endPointCountries = `total/country/${country_slug}?from=${format(yesterday, 'Y-MM-dd')}&to=${format(currentDate, 'Y-MM-dd')}`;\r\n  const { data: summaries } = await axios.get(`${BASE_URL}${endPointCountries}`);\r\n  cache[`${country_slug}_last_day`] = summaries[0];\r\n\r\n  return summaries[0];\r\n};\r\n\r\n/* Возвращает статистику всех статусов по всему миру по всем датам, массив объектов вида\r\n{\r\nDate: Tue Jan 28 2020 00:01:00 GMT+0300 (Moscow Standard Time)\r\nNewConfirmed: 87137\r\nNewDeaths: 8726\r\nNewRecovered: 27085\r\nConfirmed: 2155152\r\nDeaths: 149156\r\nRecovered: 490147\r\n}\r\n*/\r\nexport const getDataWorldFromDays = async () => {\r\n  if (cache['world']) {\r\n    return cache['world'];\r\n  }\r\n\r\n  if (getCache('world')) {\r\n    return getCache('world');\r\n  }\r\n\r\n  const endPointCountries = 'world';\r\n  const { data: summaries } = await axios.get(`${BASE_URL}${endPointCountries}`);\r\n  summaries.sort((a, b) => a.TotalConfirmed > b.TotalConfirmed ? 1 : -1);\r\n  const date = parse('22-01-2020', 'dd-mm-yyyy', new Date());\r\n\r\n  cache['world'] = summaries.map((el, index) => {\r\n    return {\r\n      ...el,\r\n      Date: addDays(date, index).toDateString()\r\n    }\r\n  });\r\n\r\n  setCache('world', cache['world']);\r\n\r\n  return cache['world'];\r\n};\r\n\r\nexport const getSummaries = async () => {\r\n  if (cache['summaries']) {\r\n    return cache['summaries'];\r\n  }\r\n\r\n  if (getCache('summaries')) {\r\n    return getCache('summaries');\r\n  }\r\n\r\n  const endPointCountries = 'summary';\r\n  const { data: summaries } = await axios.get(`${BASE_URL}${endPointCountries}`);\r\n  cache['summaries'] = summaries;\r\n  setCache('summaries', cache['summaries']);\r\n  return summaries;\r\n};\r\n","import axios from 'axios';\r\nimport { setCache, getCache } from '../services/cache';\r\n\r\n/*\r\nСписок флагов\r\nВозвращает массив из объектов вида data[n], флаг - data[n].flag, название страны - data[n].name, население - data[n].population\r\n*/\r\n\r\nexport const getFlags = async () => {\r\n    if (getCache('flags')) {\r\n        return getCache('flags');\r\n    }\r\n\r\n    const url =  'https://restcountries.eu/rest/v2/all?fields=name;population;flag';\r\n    const { data: flags } = await axios.get(url);\r\n    setCache('flags', flags);\r\n    return flags;\r\n};\r\n\r\n/*\r\nВозвращает количество населения страны country_slug\r\n*/\r\n\r\nexport const getPopulationCountry = async (country_slug) => {\r\n    const url =  `https://restcountries.eu/rest/v2/name/${country_slug}`;\r\n    const { data: country } = await axios.get(url);\r\n    const [result] = country.filter((el) => el.name.toLowerCase() === country_slug);\r\n\r\n    return result.population;\r\n};\r\n","export const filters = {\r\n  status: {\r\n    confirmed : 'TotalConfirmed',\r\n    deaths : 'TotalDeaths',\r\n    recovered: 'TotalRecovered',\r\n  },\r\n  period: {\r\n    all : 'All',\r\n    lastDay : 'LastDay',\r\n  },\r\n  relative: {\r\n    absolute : 'Absolute',\r\n    to100men : 'To100men',\r\n  },\r\n  geography: '',\r\n  allowed: {\r\n    allowedNew: ['NewConfirmed', 'NewDeaths', 'NewRecovered'],\r\n    allowedTotal: ['TotalConfirmed', 'TotalDeaths', 'TotalRecovered']\r\n  },\r\n  world: true,\r\n};\r\n","export default function TdItem({value, thNames}) {\r\n    return <td aria-label={thNames}>{value}</td>\r\n}\r\n","import React from 'react';\r\nimport TdItem from './tdItem';\r\n\r\nexport default function Table({ tableName, current, currentCountryTitle }) {\r\n\r\n  const userLang = navigator.language;\r\n  const thNames = ['Confirmed', 'Deaths', 'Recovered']\r\n  const items = Object.values(current);\r\n\r\n    return (\r\n        <table className='summaries-table'>\r\n            <caption><h4 className='title'>{currentCountryTitle ? currentCountryTitle : tableName}</h4></caption>\r\n            <thead>\r\n                <tr>\r\n                    {thNames.map((el) =>\r\n                        <th scope=\"col\">{el}</th>\r\n                    )}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    {items.map((el, i) =>\r\n                        <TdItem thNames = {thNames[i]} key={i} value={new Intl.NumberFormat(userLang, { minimumFractionDigits: 0, maximumFractionDigits: 2}).format((el || 0))} />\r\n                    )}\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    )\r\n}","import { endOfToday } from \"date-fns\";\r\nimport { format } from 'date-fns';\r\nimport {filters} from \"../constants/filters\";\r\n\r\nconst populationWorld = 7 * 10 ** 9;\r\n\r\n/*\r\nВозвращает статистику всех статусов по стране по всем датам на 100 тыс. населения, массив объектов вида\r\n{\r\nCountry: \"China\",\r\nCountryCode: \"\",\r\nCityCode: \"\",\r\nLat: \"0\",\r\nLon: \"0\",\r\nConfirmed: 0.08,\r\nDeaths: 0.056,\r\nRecovered: 0.023,\r\nDate: \"2020-12-10T00:00:00Z\"\r\n}\r\ncountry_slug = название страны, все маленькие буквы\r\n*/\r\n\r\nexport const calc100Men = (data, population) => {\r\n  return data.map((el) => ({\r\n    TotalConfirmed: Math.round(el.TotalConfirmed / (population / 10 ** 5) * 100) / 100,\r\n    TotalDeaths: Math.round(el.TotalDeaths / (population / 10 ** 5) * 100) / 100,\r\n    TotalRecovered: Math.round(el.TotalRecovered / (population / 10 ** 5) * 100) / 100,\r\n    NewConfirmed: Math.round(el.NewConfirmed / (population / 10 ** 5) * 100) / 100,\r\n    NewDeaths: Math.round(el.NewDeaths / (population / 10 ** 5) * 100) / 100,\r\n    NewRecovered: Math.round(el.NewRecovered / (population / 10 ** 5) * 100) / 100,\r\n    Date: el.Date,\r\n  }));\r\n};\r\n\r\n\r\n/*Итоговые данные по миру, объект вида\r\n {\r\n  NewConfirmed: 623213, //Последний день\r\n  TotalConfirmed: 71694121,\r\n  NewDeaths: 10224, //Последний день\r\n  TotalDeaths: 1604878,\r\n  NewRecovered: 1506921, //Последний день\r\n  TotalRecovered: 46848398\r\n} */\r\n/*\r\n  filters: status = 'TotalConfirmed', relative = 'Absolute', period = 'lastDay'\r\n*/\r\n\r\nexport const getDataWorldLastDay = (data, filters) => {\r\n  if (!data) {\r\n    return;\r\n  }\r\n\r\n  const currentDate = endOfToday();\r\n  let result = [...data];\r\n\r\n  if (filters.relative === 'To100men') {\r\n    result = calc100Men(result, populationWorld);\r\n  }\r\n\r\n   result = result.map((el) => {\r\n    return { Date: currentDate, Data: el[filters.status] };\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\n//Данные для мира и по выбранной стране по дням\r\nexport const getData = (data, filters, population = populationWorld) => {\r\n  if (!data) {\r\n    return;\r\n  }\r\n\r\n  let result = [...data];\r\n  let filtersStatus = filters.status;\r\n  let currentDate = false;\r\n\r\n  //Данные за последний  день\r\n  if(result.length === 1) {\r\n    currentDate = endOfToday();\r\n    filtersStatus = filters.status.replace('Total', 'New');\r\n  }\r\n  if (filters.relative === 'To100men') {\r\n    result = calc100Men(result, population);\r\n  }\r\n\r\n  result = result.map((el) => {\r\n    //Костыль, что-то не так со статистикой в API у Китая в один день\r\n    if(filters.geography === 'China' && el.TotalConfirmed > 6000000) {\r\n      el.TotalConfirmed = 90100;\r\n    }\r\n    return { Date: currentDate ? format(new Date(currentDate), 'dd-MMM-yyyy') : format(new Date(el.Date),'dd-MMM-yyyy'), ...el};\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nexport const getDataCountries = (data, globalFilters) => {\r\n  if (!data) {\r\n    return;\r\n  }\r\n\r\n  let result = [...data];\r\n  let filtersStatus = globalFilters.status;\r\n  let currentDate;\r\n  //Данные за последний день, передать сюда константу filters\r\n  if(globalFilters.period === filters.period.lastDay) {\r\n    currentDate = endOfToday();\r\n    filtersStatus = globalFilters.status.replace('Total', 'New');\r\n  }\r\n  result = result.map((el) => {\r\n    return { Data: el[filtersStatus], ...el };\r\n  });\r\n\r\n  if (globalFilters.relative === 'To100men') {\r\n    result = result.map((el) => {\r\n      return {\r\n    ...el,\r\n     Data: Math.round( el.Data / (el.population / 10 ** 5) * 100) / 100\r\n     }});\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport const getColorsFromFilters = (status) => {\r\n  let color;\r\n  switch (status) {\r\n    case filters.status.recovered:\r\n      color = `39,150,3`;\r\n      break;\r\n    case filters.status.deaths:\r\n      color =  `0,23,144`;\r\n      break;\r\n    default:\r\n      color =  `245,0,0`;\r\n      break;\r\n  }\r\n  return color;\r\n};\r\n\r\nexport const getFilterName = (value) => {\r\n  let result;\r\n  switch (value) {\r\n    case filters.status.recovered:\r\n      result = 'Recovered';\r\n      break;\r\n    case filters.status.deaths:\r\n      result =  'Deaths';\r\n      break;\r\n    case filters.status.confirmed:\r\n      result =  'Confirmed';\r\n      break;\r\n    case filters.period.all:\r\n      result = 'All Time';\r\n      break;\r\n    case filters.period.lastDay:\r\n      result =  'Last Day';\r\n      break;\r\n    case filters.relative.absolute:\r\n      result =  'Absolute';\r\n      break;\r\n    case filters.relative.to100men:\r\n      result =  'Per 100k';\r\n      break;\r\n  }\r\n  return result;\r\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Icons\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Two-Tone\",\n  transform: \"translate(-888.000000, -349.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Action\",\n  transform: \"translate(100.000000, 100.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Two-Tone-/-Action-/-minimize\",\n  transform: \"translate(782.000000, 230.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Path\",\n  points: \"0 0 24 0 24 24 0 24\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"\\\\uD83D\\\\uDD39-Primary-Color\",\n  fill: \"#1D1D1D\",\n  points: \"6 19 18 19 18 21 6 21\"\n}))))));\n\nfunction SvgSmall(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"12px\",\n    height: \"2px\",\n    viewBox: \"0 0 12 2\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"minimize\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSmall);\nexport default __webpack_public_path__ + \"static/media/small.aacacf83.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m408 184h-136c-4.417969 0-8-3.582031-8-8v-136c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8h-136c-22.089844 0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969 0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40v-136c0-4.417969 3.582031-8 8-8h136c22.089844 0 40-17.910156 40-40s-17.910156-40-40-40zm0 0\"\n});\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"448pt\",\n    viewBox: \"0 0 448 448\",\n    width: \"448pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.c6f2e133.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z\"\n});\n\nfunction SvgExpand(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExpand);\nexport default __webpack_public_path__ + \"static/media/expand.dd75b582.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport Table from './table';\r\nimport { calc100Men } from '../../services/calculations';\r\nimport { filters } from '../../constants/filters'\r\nimport { ReactComponent as MinimizeIcon } from \"../../icons/small.svg\";\r\nimport { ReactComponent as MaximizeIcon } from \"../../icons/plus.svg\";\r\nimport { ReactComponent as Expand } from \"../../icons/expand.svg\";\r\n\r\nclass Summary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const currentCountryObj = this.getByCountry(props.summariesCountries, 'Belarus');\r\n    const population = currentCountryObj.population;\r\n\r\n    this.state = {\r\n      current: this.getBySelect(),\r\n\r\n      currentTotal: this.getBySelect(this.props.summaries),\r\n      currentCountry: this.getBySelect(currentCountryObj),\r\n\r\n      defaultCountryTitle: 'Belarus',\r\n      defaultPosition: { x: 0, y: 0 },\r\n\r\n      expanded:false,\r\n      fullSize:true,\r\n      minimize:true,\r\n      maximize:false,\r\n\r\n      populationWorld: 7 * 10 ** 9,\r\n      populationCountry: population,\r\n\r\n      checkedAbsolute: true,\r\n      checkedPer100k: false,\r\n\r\n      checkedAll: true,\r\n      checkedLastday: false\r\n\r\n    };\r\n\r\n    this.getBySelect = this.getBySelect.bind(this);\r\n    this.getByCountry = this.getByCountry.bind(this);\r\n    this.handlePer100kChange = this.handlePer100kChange.bind(this);\r\n    this.handleAbsoluteChange = this.handleAbsoluteChange.bind(this);\r\n    this.handleLastDayChange = this.handleLastDayChange.bind(this);\r\n    this.handleAllChange = this.handleAllChange.bind(this);\r\n\r\n  }\r\n\r\n  getByCountry(countries, findCountry) {\r\n    return countries.filter((el) => el.Country === findCountry).find(el => el);\r\n  }\r\n\r\n  getBySelect(object, value = filters.period.all) {\r\n\r\n    let allowed;\r\n\r\n    if (value === filters.period.lastDay) {\r\n      allowed = filters.allowed.allowedNew;\r\n    } else if (value === filters.period.all) {\r\n      allowed = filters.allowed.allowedTotal;\r\n    }\r\n\r\n    return Object.keys(object || {})\r\n      .filter(key => allowed.includes(key))\r\n      .reduce((obj, key) => {\r\n        obj[key] = object[key];\r\n        return obj;\r\n      }, {});\r\n  }\r\n\r\n  summariesSelect(obj, e, countrySelected = false) {\r\n\r\n    const { getBySelect, getByCountry } = this;\r\n    const { populationCountry, populationWorld, defaultCountryTitle } = this.state\r\n    const { summariesCountries, globalFilters } = this.props\r\n\r\n    const absolute = (countrySelected)\r\n      ? getBySelect(getByCountry(summariesCountries, globalFilters.geography || defaultCountryTitle), e)\r\n      : getBySelect(obj, e);\r\n\r\n    const per100k = getBySelect(calc100Men([absolute], (countrySelected) ? populationCountry : populationWorld)[0], e)\r\n\r\n    return {\r\n      per100k,\r\n      absolute\r\n    }\r\n  }\r\n\r\n  handleAllChange(e) {\r\n\r\n    const { checkedPer100k } = this.state;\r\n\r\n    const totalObj = this.summariesSelect(this.props.summaries, e.target.value, false)\r\n    const countryObj = this.summariesSelect(this.props.summariesCountries, e.target.value, true);\r\n\r\n    this.setState({\r\n      currentTotal: (checkedPer100k) ? totalObj.per100k : totalObj.absolute,\r\n      currentCountry: (checkedPer100k) ? countryObj.per100k : countryObj.absolute,\r\n      checkedAll: true,\r\n      checkedLastday: false\r\n    });\r\n\r\n    this.props.updateFilters({\r\n      period: filters.period.all\r\n    })\r\n\r\n  }\r\n\r\n  handleLastDayChange(e) {\r\n\r\n    const { checkedPer100k } = this.state;\r\n\r\n    const totalObj = this.summariesSelect(this.props.summaries, e.target.value)\r\n    const countryObj = this.summariesSelect(this.props.summariesCountries, e.target.value, true);\r\n\r\n    this.setState({\r\n      checkedAll: false,\r\n      checkedLastday: true,\r\n      currentTotal: (checkedPer100k) ? totalObj.per100k : totalObj.absolute,\r\n      currentCountry: (checkedPer100k) ? countryObj.per100k : countryObj.absolute,\r\n    });\r\n\r\n    this.props.updateFilters({\r\n      period: filters.period.lastDay\r\n    })\r\n\r\n  }\r\n\r\n  handleAbsoluteChange() {\r\n\r\n    const countryObj = this.getByCountry(this.props.summariesCountries, this.props.globalFilters.geography || this.state.defaultCountryTitle);\r\n\r\n    this.setState({\r\n      currentTotal: this.getBySelect(this.props.summaries),\r\n      currentCountry: this.getBySelect(countryObj),\r\n      checkedAbsolute: true,\r\n      checkedPer100k: false,\r\n    });\r\n\r\n    this.props.updateFilters({\r\n      relative: filters.relative.absolute\r\n    })\r\n  }\r\n\r\n  handlePer100kChange() {\r\n\r\n    const { getBySelect, getByCountry } = this;\r\n    const { populationCountry, populationWorld, defaultCountryTitle } = this.state\r\n    const { globalFilters, summaries, summariesCountries } = this.props\r\n\r\n    const totalObj = getBySelect(summaries);\r\n    const countryObj = getByCountry(summariesCountries, globalFilters.geography || defaultCountryTitle);\r\n\r\n    const per100kTotal = getBySelect(calc100Men([totalObj], populationWorld)[0])\r\n    const per100kCountry = getBySelect(calc100Men([getBySelect(countryObj)], populationCountry)[0])\r\n\r\n    this.setState({\r\n      currentTotal: per100kTotal,\r\n      currentCountry: per100kCountry,\r\n      checkedAbsolute: false,\r\n      checkedPer100k: true\r\n    });\r\n\r\n    this.props.updateFilters({\r\n      relative: filters.relative.to100men\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const { getBySelect, getByCountry, handlePer100kChange, handleAbsoluteChange, handleLastDayChange, handleAllChange } = this;\r\n    const { globalFilters, summariesCountries } = this.props;\r\n    const { checkedPer100k, checkedAbsolute, populationCountry, populationWorld, defaultCountryTitle } = this.state;\r\n\r\n    const countryObj = getByCountry(summariesCountries, globalFilters.geography || defaultCountryTitle);\r\n    const per100kCountry = getBySelect(calc100Men([getBySelect(countryObj)], populationCountry)[0]);\r\n\r\n    if (globalFilters.relative !== prevProps.globalFilters.relative) {\r\n      if (globalFilters.relative === filters.relative.to100men) {\r\n        handlePer100kChange();\r\n      } else if (globalFilters.relative === filters.relative.absolute) {\r\n        handleAbsoluteChange();\r\n      }\r\n    }\r\n\r\n    if (globalFilters.period !== prevProps.globalFilters.period) {\r\n      if (globalFilters.period === filters.period.lastDay) {\r\n        handleLastDayChange({ target: { value: filters.period.lastDay } });\r\n      } else if (globalFilters.period === filters.period.all) {\r\n        handleAllChange({ target: { value: filters.period.all } });\r\n      }\r\n    }\r\n\r\n    if (globalFilters.geography !== prevProps.globalFilters.geography) {\r\n      if (globalFilters.geography !== prevProps.globalFilters.geography && globalFilters.geography !== '') {\r\n        this.setState({\r\n          currentCountry: (checkedPer100k) ? per100kCountry : this.getBySelect(countryObj),\r\n          checkedAbsolute: checkedAbsolute,\r\n          checkedPer100k: checkedPer100k,\r\n          populationCountry: populationWorld || countryObj.population\r\n\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  handleFullSize() {\r\n    this.setState({\r\n      expanded: !this.state.expanded,\r\n      minimize: !this.state.minimize,\r\n    })\r\n  };\r\n\r\n  handleMinimize() {\r\n    this.setState({\r\n      fullSize: !this.state.fullSize,\r\n      maximize: true,\r\n      minimize: false\r\n    })\r\n  }\r\n\r\n  handleMaximize = () => {\r\n\r\n    this.setState({\r\n      fullSize: !this.state.fullSize,\r\n      maximize: false,\r\n      minimize: true\r\n    })\r\n  }\r\n  \r\n  render() {\r\n\r\n    const { globalFilters } = this.props;\r\n    const { defaultCountryTitle, currentCountry, currentTotal, defaultPosition } = this.state;\r\n\r\n    return (\r\n      <Draggable position={this.state.expanded ? defaultPosition : null} onMouseDown={this.props.handleOnMouseUp}>\r\n        <div className={`summary-wrapper ${this.state.expanded ? 'expanded' : ''}`}>\r\n          <div className=\"controls\">\r\n            <div className=\"title\">Summary</div>\r\n\r\n            <MaximizeIcon className=\"controls-icons\" onClick={() => this.handleMaximize()} style={{ display: this.state.maximize ? 'inline-block' : 'none' }} />\r\n\r\n            <MinimizeIcon className=\"controls-icons\" onClick={() => this.handleMinimize()} style={{ display: this.state.minimize ? 'inline-block' : 'none' }} />\r\n\r\n            <Expand className=\"controls-icons\" onClick={() =>this.handleFullSize()} style={{ display: this.state.fullSize ? 'inline-block' : 'none' }} />\r\n\r\n          </div>\r\n          {\r\n            this.state.fullSize ? (\r\n              <div className=\"block-inner\">\r\n                <div className=\"tables-wrap\">\r\n                  <div className=\"border-stroke\">\r\n                  <div className=\"filters\">\r\n                    <div className='period-wrap'>\r\n                      <div className='absolute-change'>\r\n                        <label>\r\n                          <input type=\"radio\" value={filters.relative.absolute} checked={globalFilters.relative === filters.relative.absolute} onChange={this.handleAbsoluteChange} />\r\n                        Absolute\r\n                      </label>\r\n                      </div>\r\n\r\n                      <div className=\"per100k-change\">\r\n                        <label>\r\n                          <input type=\"radio\" value={filters.relative.to100men} checked={globalFilters.relative === filters.relative.to100men} onChange={this.handlePer100kChange} />\r\n                          Per 100k\r\n                        </label>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"relative-wrap\">\r\n\r\n                      <div className='all-time-change'>\r\n                        <label>\r\n                          <input type=\"radio\" value={filters.period.all} checked={globalFilters.period === filters.period.all} onChange={this.handleAllChange} />\r\n                          All Time\r\n                        </label>\r\n                      </div>\r\n\r\n                      <div className=\"lastDay-change\">\r\n                        <label>\r\n                          <input type=\"radio\" value={filters.period.lastDay} checked={globalFilters.period === filters.period.lastDay} onChange={this.handleLastDayChange} />\r\n                        Last Day\r\n                    </label>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </div>\r\n                  </div>\r\n                  <Table tableName='World' current={currentTotal} />\r\n\r\n                  <Table currentCountryTitle={globalFilters.geography || defaultCountryTitle} tableName=\"\" current={currentCountry} />\r\n\r\n                </div>\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n      </Draggable>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.memo(Summary);\r\n","export const missedFlags = {\r\n  'United Kingdom': 'https://restcountries.eu/data/gbr.svg',\r\n  'Iran, Islamic Republic of': 'https://restcountries.eu/data/irn.svg',\r\n  'Bolivia': 'https://restcountries.eu/data/bol.svg',\r\n  'Moldova': 'https://restcountries.eu/data/mda.svg',\r\n  'Venezuela (Bolivarian Republic)': 'https://restcountries.eu/data/ven.svg',\r\n  'Palestinian Territory': 'https://restcountries.eu/data/pse.svg',\r\n  'Macedonia, Republic of': 'https://restcountries.eu/data/mkd.svg',\r\n  'Korea (South)': 'https://restcountries.eu/data/kor.svg',\r\n  'Congo (Kinshasa)': 'https://restcountries.eu/data/cog.svg',\r\n  'Cape Verde': 'https://restcountries.eu/data/cpv.svg',\r\n  'Syrian Arab Republic (Syria)': 'https://restcountries.eu/data/syr.svg',\r\n  'Congo (Brazzaville)': 'https://restcountries.eu/data/cog.svg',\r\n  'Taiwan, Republic of China': 'https://restcountries.eu/data/twn.svg',\r\n  'Saint Vincent and Grenadines': 'https://restcountries.eu/data/vct.svg',\r\n  'Holy See (Vatican City State)': 'https://restcountries.eu/data/vat.svg',\r\n  'Macao, SAR China': 'https://restcountries.eu/data/mac.svg',\r\n  'Lao PDR': 'https://restcountries.eu/data/lao.svg',\r\n};\r\n\r\nexport const missedPopulations = {\r\n  'United Kingdom': 65110000,\r\n  'Iran, Islamic Republic of': 79369900,\r\n  'Bolivia': 10985059,\r\n  'Moldova': 3553100,\r\n  'Venezuela (Bolivarian Republic)': 31028700,\r\n  'Palestinian Territory': 4682467,\r\n  'Macedonia, Republic of': 2058539,\r\n  'Korea (South)': 50801405,\r\n  'Congo (Kinshasa)': 4741000,\r\n  'Cape Verde': 531239,\r\n  'Syrian Arab Republic (Syria)': 18564000,\r\n  'Congo (Brazzaville)': 4741000,\r\n  'Taiwan, Republic of China': 23503349,\r\n  'Saint Vincent and Grenadines': 109991,\r\n  'Holy See (Vatican City State)': 451,\r\n  'Macao, SAR China': 649100,\r\n  'Lao PDR': 6492400,\r\n};\r\n","export const sortByParameter = (data, parameter) => {\r\n  if (parameter === 'Country') return data.sort((a, b) => a[parameter] > b[parameter] ? 1 : -1);\r\n  else return data.sort((a, b) => a[parameter] < b[parameter] ? 1 : -1)\r\n};\r\n","import { filters } from \"../constants/filters\";\r\n\r\nexport const getSelectFilters = (optionNumber) => {\r\n\r\n    let status, period, relative;\r\n\r\n    switch (optionNumber) {\r\n        case 0:\r\n        case 1:\r\n        case 6:\r\n        case 7:\r\n            status = filters.status.confirmed;\r\n            break;\r\n        case 2:\r\n        case 3:\r\n        case 8:\r\n        case 9:\r\n            status = filters.status.deaths;\r\n            break;\r\n        case 4:\r\n        case 5:\r\n        case 10:\r\n        case 11:\r\n            status = filters.status.recovered;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    if (optionNumber > 5) relative = filters.relative.to100men;\r\n    else relative = filters.relative.absolute;\r\n\r\n    if (optionNumber % 2 === 0) period = filters.period.all;\r\n    else period = filters.period.lastDay;\r\n\r\n    return {status, period, relative};\r\n}\r\n\r\nexport const getSortedBy = (status, period, relative) => {\r\n    let sortedBy = {}\r\n    if (status === 'TotalConfirmed' && period === 'All' && relative === 'Absolute') sortedBy = {idx: 0, sortedBy: 'total cases'};\r\n    if (status === 'TotalConfirmed' && period === 'LastDay' && relative === 'Absolute') sortedBy = {idx: 1, sortedBy: 'new cases'};\r\n    if (status === 'TotalDeaths' && period === 'All' && relative === 'Absolute') sortedBy = {idx: 2, sortedBy: 'total deaths'};\r\n    if (status === 'TotalDeaths' && period === 'LastDay' && relative === 'Absolute') sortedBy = {idx: 3, sortedBy: 'new deaths'};\r\n    if (status === 'TotalRecovered' && period === 'All' && relative === 'Absolute') sortedBy = {idx: 4, sortedBy: 'total recovered'};\r\n    if (status === 'TotalRecovered' && period === 'LastDay' && relative === 'Absolute') sortedBy = {idx: 5, sortedBy: 'new recovered'};\r\n    if (status === 'TotalConfirmed' && period === 'All' && relative === 'To100men') sortedBy = {idx: 6, sortedBy: 'total cases per 100k'};\r\n    if (status === 'TotalConfirmed' && period === 'LastDay' && relative === 'To100men') sortedBy = {idx: 7, sortedBy: 'new cases per 100k'};\r\n    if (status === 'TotalDeaths' && period === 'All' && relative === 'To100men') sortedBy = {idx: 8, sortedBy: 'total deaths per 100k'};\r\n    if (status === 'TotalDeaths' && period === 'LastDay' && relative === 'To100men') sortedBy = {idx: 9, sortedBy: 'new deaths per 100k'};\r\n    if (status === 'TotalRecovered' && period === 'All' && relative === 'To100men') sortedBy = {idx: 10, sortedBy: 'total recovered per 100k'};\r\n    if (status === 'TotalRecovered' && period === 'LastDay' && relative === 'To100men') sortedBy = {idx: 11, sortedBy: 'new recovered per 100k'};\r\n    return sortedBy;\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m335.476562 344.277344h-158.953124c-1.992188.066406-3.785157 1.214844-4.691407 2.988281-.902343 1.773437-.773437 3.898437.34375 5.550781l79.476563 121.480469c.941406 1.488281 2.582031 2.390625 4.347656 2.390625s3.40625-.902344 4.347656-2.390625l79.476563-121.480469c1.117187-1.652344 1.246093-3.777344.34375-5.550781-.90625-1.773437-2.699219-2.921875-4.691407-2.988281zm0 0\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m476.691406 0h-441.382812c-19.5 0-35.308594 15.808594-35.308594 35.308594v229.519531c0 19.5 15.808594 35.308594 35.308594 35.308594h441.382812c19.5 0 35.308594-15.808594 35.308594-35.308594v-229.519531c0-19.5-15.808594-35.308594-35.308594-35.308594zm-247.175781 44.136719c0-4.875 3.953125-8.828125 8.828125-8.828125h35.3125c4.875 0 8.828125 3.953125 8.828125 8.828125v35.3125c0 4.875-3.953125 8.828125-8.828125 8.828125h-35.3125c-4.875 0-8.828125-3.953125-8.828125-8.828125zm0 88.277343c0-4.875 3.953125-8.828124 8.828125-8.828124h35.3125c4.875 0 8.828125 3.953124 8.828125 8.828124v35.308594c0 4.875-3.953125 8.828125-8.828125 8.828125h-35.3125c-4.875 0-8.828125-3.953125-8.828125-8.828125zm-88.273437-88.277343c0-4.875 3.953124-8.828125 8.828124-8.828125h35.308594c4.875 0 8.828125 3.953125 8.828125 8.828125v35.3125c0 4.875-3.953125 8.828125-8.828125 8.828125h-35.308594c-4.875 0-8.828124-3.953125-8.828124-8.828125zm0 88.277343c0-4.875 3.953124-8.828124 8.828124-8.828124h35.308594c4.875 0 8.828125 3.953124 8.828125 8.828124v35.308594c0 4.875-3.953125 8.828125-8.828125 8.828125h-35.308594c-4.875 0-8.828124-3.953125-8.828124-8.828125zm-35.3125 35.308594c0 4.875-3.949219 8.828125-8.828126 8.828125h-35.308593c-4.875 0-8.828125-3.953125-8.828125-8.828125v-35.308594c0-4.875 3.953125-8.828124 8.828125-8.828124h35.308593c4.878907 0 8.828126 3.953124 8.828126 8.828124zm0-88.273437c0 4.875-3.949219 8.828125-8.828126 8.828125h-35.308593c-4.875 0-8.828125-3.953125-8.828125-8.828125v-35.3125c0-4.875 3.953125-8.828125 8.828125-8.828125h35.308593c4.878907 0 8.828126 3.953125 8.828126 8.828125zm264.828124 176.550781c0 4.875-3.953124 8.828125-8.828124 8.828125h-211.859376c-4.875 0-8.828124-3.953125-8.828124-8.828125v-35.308594c0-4.878906 3.953124-8.828125 8.828124-8.828125h211.859376c4.875 0 8.828124 3.949219 8.828124 8.828125zm0-88.277344c0 4.875-3.953124 8.828125-8.828124 8.828125h-35.308594c-4.875 0-8.828125-3.953125-8.828125-8.828125v-35.308594c0-4.875 3.953125-8.828124 8.828125-8.828124h35.308594c4.875 0 8.828124 3.953124 8.828124 8.828124zm0-88.273437c0 4.875-3.953124 8.828125-8.828124 8.828125h-35.308594c-4.875 0-8.828125-3.953125-8.828125-8.828125v-35.3125c0-4.875 3.953125-8.828125 8.828125-8.828125h35.308594c4.875 0 8.828124 3.953125 8.828124 8.828125zm88.277344 88.273437c0 4.875-3.953125 8.828125-8.828125 8.828125h-35.308593c-4.878907 0-8.828126-3.953125-8.828126-8.828125v-35.308594c0-4.875 3.949219-8.828124 8.828126-8.828124h35.308593c4.875 0 8.828125 3.953124 8.828125 8.828124zm0-88.273437c0 4.875-3.953125 8.828125-8.828125 8.828125h-35.308593c-4.878907 0-8.828126-3.953125-8.828126-8.828125v-35.3125c0-4.875 3.949219-8.828125 8.828126-8.828125h35.308593c4.875 0 8.828125 3.953125 8.828125 8.828125zm0 0\"\n});\n\nfunction SvgKeypad(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 -18 512 512\",\n    width: \"512pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgKeypad);\nexport default __webpack_public_path__ + \"static/media/keypad.95175ea1.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { filters } from \"../../constants/filters\";\r\nimport {getFilterName} from \"../../services/calculations\";\r\n\r\nconst Filters = ({ globalFilters, updateFilters, dataForCountry, options }) => {\r\n  const onSelectChange = (e) => {\r\n    updateFilters({status: e.target.value});\r\n  };\r\n\r\n  const onRadioChangeRelative = (e) => {\r\n    updateFilters({relative: e.target.value});\r\n  };\r\n\r\n  const onRadioChangePeriod = (e) => {\r\n    updateFilters({period: e.target.value});\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {\r\n        options.relative && (\r\n          <div>\r\n            <div>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value={filters.relative.absolute}\r\n                  checked={globalFilters.relative === filters.relative.absolute ? 'selected' : ''}\r\n                  onChange={onRadioChangeRelative}/>\r\n                {getFilterName(filters.relative.absolute)}</label>\r\n            </div>\r\n            <div>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value={filters.relative.to100men}\r\n                  onChange={onRadioChangeRelative}\r\n                  checked={globalFilters.relative === filters.relative.to100men ? 'selected' : ''}\r\n                />\r\n                {getFilterName(filters.relative.to100men)}</label>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n      {\r\n        options.period && (\r\n          <div>\r\n            <div>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value={filters.period.all}\r\n                  checked={globalFilters.period === filters.period.all ? 'selected' : ''}\r\n                  onChange={onRadioChangePeriod}/>\r\n                {getFilterName(filters.period.all)}</label>\r\n            </div>\r\n            <div>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value={filters.period.lastDay}\r\n                  onChange={onRadioChangePeriod}\r\n                  checked={globalFilters.period === filters.period.lastDay ? 'selected' : ''}\r\n                />\r\n                {getFilterName(filters.period.lastDay)}</label>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n      {\r\n        options.status && (\r\n          <div className=\"filer-select\">\r\n            <select onChange={onSelectChange} value={globalFilters.status}>\r\n              <option value={filters.status.confirmed}>{getFilterName(filters.status.confirmed)}</option>\r\n              <option value={filters.status.deaths}>{getFilterName(filters.status.deaths)}</option>\r\n              <option value={filters.status.recovered}>{getFilterName(filters.status.recovered)}</option>\r\n            </select>\r\n          </div>\r\n        )\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Filters;","import React from 'react';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport Draggable from 'react-draggable';\r\nimport { missedFlags, missedPopulations } from '../../constants/missed';\r\nimport { sortByParameter } from '../../services/sorting';\r\nimport { getSelectFilters, getSortedBy } from \"../../services/selectFilters\";\r\nimport { getFilterName } from \"../../services/calculations\";\r\nimport { ReactComponent as MinimizeIcon } from \"../../icons/small.svg\";\r\nimport { ReactComponent as MaximizeIcon } from \"../../icons/plus.svg\";\r\nimport { ReactComponent as Expand } from \"../../icons/expand.svg\";\r\nimport {ReactComponent as VKeyboard} from \"../../icons/keypad.svg\";\r\n\r\nimport Filters from \"../filters\";\r\n\r\nconst sortParameters = {\r\n    'total cases': 'TotalConfirmed',\r\n    'new cases': 'NewConfirmed',\r\n    'total deaths': 'TotalDeaths',\r\n    'new deaths': 'NewDeaths',\r\n    'total recovered': 'TotalRecovered',\r\n    'new recovered': 'NewRecovered',\r\n    'total cases per 100k': 'TotalConfirmedPerPopulation',\r\n    'new cases per 100k': 'NewConfirmedPerPopulation',\r\n    'total deaths per 100k': 'TotalDeathsPerPopulation',\r\n    'new deaths per 100k': 'NewDeathsPerPopulation',\r\n    'total recovered per 100k': 'TotalRecoveredPerPopulation',\r\n    'new recovered per 100k': 'NewRecoveredPerPopulation',\r\n};\r\n\r\nconst defaultPosition = {x: 0, y: 0};\r\n\r\nclass CountryList extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            sortedBy: 'total cases',\r\n            globalFilters: {},\r\n            filterText: '',\r\n            expanded:false,\r\n            fullSize:true,\r\n            minimize:true,\r\n            maximize:false,\r\n        };\r\n\r\n        this.listRef = React.createRef();\r\n        this.tbodyRef = React.createRef();\r\n        this.containerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            sortedBy: 'total cases',\r\n            globalFilters: this.props.globalFilters,\r\n            filterText: '',\r\n            expanded: false,\r\n            fullSize: true,\r\n        });\r\n\r\n        this.initKeyboard();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n        const scrollToActive = () => {\r\n            const { status, period, relative } = this.props.globalFilters;\r\n            const sortedByObj = getSortedBy(status, period, relative);\r\n\r\n            const data = this.props.summaries.map(country => {\r\n                return {\r\n                    ...country,\r\n                    TotalConfirmedPerPopulation: ((country.TotalConfirmed * 100000) / country.population),\r\n                    NewConfirmedPerPopulation: ((country.NewConfirmed * 100000) / country.population),\r\n                    TotalDeathsPerPopulation: ((country.TotalDeaths * 100000) / country.population),\r\n                    NewDeathsPerPopulation: ((country.NewDeaths * 100000) / country.population),\r\n                    TotalRecoveredPerPopulation: ((country.TotalRecovered * 100000) / country.population),\r\n                    NewRecoveredPerPopulation: ((country.NewRecovered * 100000) / country.population),\r\n                }\r\n            })\r\n            const countryIdx = sortByParameter(data, sortParameters[sortedByObj.sortedBy]).findIndex(el => el['Country'] === this.props.globalFilters.geography);\r\n            if (countryIdx && this.tbodyRef.current.children[countryIdx]) {\r\n\r\n                this.tbodyRef.current.children[countryIdx].scrollIntoView({\r\n                    behavior: 'smooth',\r\n                    block: 'start',\r\n                });\r\n            }\r\n        }\r\n\r\n        if ((this.props.globalFilters !== this.state.globalFilters) && this.props !== prevProps) {\r\n            const { status, period, relative, geography } = this.props.globalFilters;\r\n            const sortedByObj = getSortedBy(status, period, relative);\r\n            this.setState({ sortedBy: sortedByObj.sortedBy, status, period, relative });\r\n\r\n            if (geography) {\r\n                scrollToActive()\r\n            }\r\n        }\r\n\r\n        if (this.props.globalFilters.geography !== this.state.geography && this.props.globalFilters.geography) {\r\n            this.setState({geography: this.props.globalFilters.geography});\r\n        }\r\n    }\r\n\r\n    makeList(data = []) {\r\n        const { sortedBy } = this.state;\r\n\r\n        const userLang = navigator.language;\r\n\r\n        return sortByParameter(data, sortParameters[sortedBy]).map((item, index) => {\r\n            const { Country, flag } = item;\r\n            const { geography } = this.props.globalFilters;\r\n            let amount = item[sortParameters[sortedBy]];\r\n            amount = new Intl.NumberFormat(userLang, { minimumFractionDigits: 0, maximumFractionDigits: 2}).format(amount);\r\n\r\n            return (\r\n                <tr className={`country-list-item ${geography === Country ? 'country-list-item_selected' : ''}`} key={index} onClick={() => this.onCountryClick(Country)}>\r\n                    <td><img className=\"country-list-item-flag\" loading=\"lazy\" src={flag} alt=\"flag\"/></td>\r\n                    <td><span className=\"country-list-item-country\">{Country} </span></td>\r\n                    <td>{amount}</td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({filterText: e.target.value});\r\n    };\r\n\r\n    onCountryClick = (Country) => {\r\n        this.setState({geography: Country});\r\n        this.props.handleClickOnCountry(Country);\r\n    };\r\n\r\n    handleFullSize() {\r\n        this.setState({\r\n          expanded: !this.state.expanded,\r\n          minimize: !this.state.minimize,\r\n        })\r\n      };\r\n    \r\n      handleMinimize() {\r\n        this.setState({\r\n          fullSize: !this.state.fullSize,\r\n          maximize: true,\r\n          minimize: false\r\n        })\r\n      }\r\n    \r\n      handleMaximize = () => {\r\n    \r\n        this.setState({\r\n          fullSize: !this.state.fullSize,\r\n          maximize: false,\r\n          minimize: true\r\n        })\r\n      }\r\n\r\n    initKeyboard() {\r\n        const searchInput = document.getElementById(\"searсh\");\r\n        if (searchInput) {\r\n            window.VKeyboard.init(searchInput);\r\n        }\r\n    }\r\n\r\n    openKeyboard() {\r\n       const searchInput = document.getElementById(\"searсh\");\r\n        if (searchInput) {\r\n            window.VKeyboard.keyboardToggle();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { summaries = [], flags = [] } = this.props;\r\n        const { filterText } = this.state;\r\n\r\n        let data = summaries.map((country) => {\r\n            const [geography] = flags.filter(item => item.name === country.Country);\r\n            const population = geography ? geography.population : missedPopulations[country.Country];\r\n\r\n            return {\r\n                ...country,\r\n                flag: geography ? geography.flag : missedFlags[country.Country],\r\n                population,\r\n                TotalConfirmedPerPopulation: ((country.TotalConfirmed * 100000) / population),\r\n                NewConfirmedPerPopulation: ((country.NewConfirmed * 100000) / population),\r\n                TotalDeathsPerPopulation: ((country.TotalDeaths * 100000) / population),\r\n                NewDeathsPerPopulation: ((country.NewDeaths * 100000) / population),\r\n                TotalRecoveredPerPopulation: ((country.TotalRecovered * 100000) / population),\r\n                NewRecoveredPerPopulation: ((country.NewRecovered * 100000) / population),\r\n            }\r\n        });\r\n\r\n\r\n        if (filterText !== '') {\r\n            data = data.filter(el => el['Country'].toLowerCase().includes(filterText.toLowerCase()))\r\n        }\r\n\r\n        let listItems = this.makeList(data);\r\n\r\n        const options = {'status': true, 'relative': true, 'period': true};\r\n\r\n        return (\r\n          <Draggable position={this.state.expanded ? defaultPosition : null} onMouseDown={this.props.handleOnMouseUp}>\r\n              <div\r\n                ref={this.containerRef}\r\n                className={`country-list-container ${this.state.expanded ? 'expanded' : ''} ${!this.state.fullSize ? 'min-size' : ''}`}\r\n              >\r\n                  <div className=\"controls\">\r\n                      <div className=\"title\">Countries</div>\r\n\r\n                    <MaximizeIcon className=\"controls-icons\" onClick={() => this.handleMaximize()} style={{ display: this.state.maximize ? 'inline-block' : 'none' }} />\r\n\r\n                    <MinimizeIcon className=\"controls-icons\" onClick={() => this.handleMinimize()} style={{ display: this.state.minimize ? 'inline-block' : 'none' }} />\r\n\r\n                    <Expand className=\"controls-icons\" onClick={() =>this.handleFullSize()} style={{ display: this.state.fullSize ? 'inline-block' : 'none' }} />\r\n\r\n                  </div>\r\n                  {\r\n                      this.state.fullSize ? (\r\n                        <div className=\"block-inner\">\r\n                            <div className=\"border-stroke\">\r\n                                <div className=\"filters\">\r\n                                    <Filters globalFilters={this.props.globalFilters}\r\n                                             updateFilters={this.props.updateFilters} options={options}/>\r\n                                </div>\r\n                                <div className=\"row-search\">\r\n                                    <input onChange={this.onInputChange} onFocus={this.onInputChange}\r\n                                           placeholder=\"Search...\" type=\"text\" id=\"searсh\"/>\r\n                                    <div className=\"v-keyboard\">\r\n                                        <VKeyboard className=\"controls-icons\" onClick={this.openKeyboard}/></div>\r\n                                </div>\r\n                            </div>\r\n                            <div ref={this.listRef} className=\"country-list\">\r\n\r\n                                <Scrollbars style={{width: 'auto', height: this.state.expanded ? '80vh' : '50vh'}}>\r\n                                    <table>\r\n                                        <tbody ref={this.tbodyRef}>\r\n                                    {listItems}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </Scrollbars>\r\n\r\n                            </div>\r\n                        </div>\r\n                      ) : null\r\n                  }\r\n              </div>\r\n          </Draggable>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CountryList;\r\n","import {getFilterName} from \"../../../services/calculations\";\r\nimport {filters} from \"../../../constants/filters\";\r\nconst userLang = navigator.language;\r\n\r\nconst Tooltip = ({ dataCountry, customStyles, globalFilters }) => {\r\n  const roundDijit = (globalFilters.relative === filters.relative.to100men) ? 2 : 0;\r\n    return (\r\n      <div id=\"tooltip\" className=\"tooltip\" style={{ display: 'none', ...customStyles }}>\r\n          <h5>Country: {dataCountry.Country}</h5>\r\n          <table>\r\n              <tbody>\r\n              <tr>\r\n                  <td>{getFilterName(globalFilters.status)}, {getFilterName(globalFilters.relative)}, {getFilterName(globalFilters.period)}:</td>\r\n                  <td>{new Intl.NumberFormat(userLang, { minimumFractionDigits: 0, maximumFractionDigits: 2}).format((dataCountry.Data || 0).toFixed(roundDijit))}</td>\r\n              </tr>\r\n              </tbody>\r\n          </table>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default Tooltip;\r\n","import React, {useState} from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport { ReactComponent as MinimizeIcon } from \"../../../icons/small.svg\";\r\nimport { ReactComponent as MaximizeIcon } from \"../../../icons/plus.svg\";\r\nimport { ReactComponent as Expand } from \"../../../icons/expand.svg\";\r\nimport { getColorsFromFilters, getFilterName } from '../../../services/calculations';\r\nimport { filters } from \"../../../constants/filters\";\r\nimport Filters from \"../../filters\";\r\n\r\nconst Legend = ({data, diffCoeff, globalFilters, updateFilters, handleOnMouseUp}) => {\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [fullSize, setFullSize] = useState(true);\r\n  const [minimize, setMinimize] = useState(true);\r\n  const [maximize, setMaximize] = useState(false);\r\n\r\n  const defaultPosition = {x: 0, y: 0};\r\n\r\n  const handleFullSize = () => {\r\n    setExpanded(!expanded);\r\n    setMinimize(!minimize);\r\n  };\r\n\r\n  const handleMinimize = () => {\r\n    setFullSize(!fullSize)\r\n    setMaximize(true)\r\n    setMinimize(false)\r\n\r\n  }\r\n\r\n  const handleMaximize = () => {\r\n    setFullSize(!fullSize)\r\n    setMaximize(false)\r\n    setMinimize(true)\r\n  }\r\n\r\n  const options = {'status': true, 'relative': true, 'period': true};\r\n  \r\n\r\n  const roundDijit = (globalFilters.relative === filters.relative.to100men) ? 2 : 0;\r\n  const userLang = navigator.language;\r\n\r\n  return (\r\n    <Draggable position={expanded ? defaultPosition : null} onMouseDown={handleOnMouseUp}>\r\n      <div className={`map-legend ${expanded ? 'expanded' : ''}`}>\r\n        <div className=\"controls\">\r\n          <div className=\"title\">Legend</div>\r\n           <MaximizeIcon className=\"controls-icons\" onClick={handleMaximize} style={{ display: maximize ? 'inline-block' : 'none' }} />\r\n\r\n          <MinimizeIcon className=\"controls-icons\" onClick={handleMinimize} style={{ display: minimize ? 'inline-block' : 'none' }} />\r\n\r\n          <Expand className=\"controls-icons\" onClick={handleFullSize} style={{ display: fullSize ? 'inline-block' : 'none' }} />\r\n        </div>\r\n        {\r\n          fullSize ? (\r\n            <div className=\"block-inner\">\r\n              <div className=\"flex-block\">\r\n                <table>\r\n                  <thead>\r\n                  <tr>\r\n                    <th colSpan=\"3\"><h4>{getFilterName(globalFilters.status)} {getFilterName(globalFilters.relative)} {getFilterName(globalFilters.period)}</h4></th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {\r\n                    data.sort().map((value, index) => (\r\n                      <tr key={index}>\r\n                        <td style={{\r\n                          width: '45px',\r\n                          backgroundColor: `rgba(${getColorsFromFilters(globalFilters.status)},${value})`\r\n                        }}/>\r\n                        <td><span>before</span></td>\r\n                        <td>\r\n                         <span>\r\n                          {(new Intl.NumberFormat(userLang, {\r\n                          minimumFractionDigits: 0,\r\n                          maximumFractionDigits: 2\r\n                        }).format((value * diffCoeff).toFixed(roundDijit)))}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  }\r\n                  </tbody>\r\n                </table>\r\n                <div className=\"border-stroke\">\r\n                <div className=\"filters\">\r\n                  <Filters globalFilters={globalFilters} updateFilters={updateFilters} options={options}/>\r\n                </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null\r\n        }\r\n      </div>\r\n    </Draggable>\r\n  )\r\n};\r\n\r\nexport default React.memo(Legend);\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m405.332031 192h-170.664062v-170.667969c0-11.773437-9.558594-21.332031-21.335938-21.332031-11.773437 0-21.332031 9.558594-21.332031 21.332031v170.667969h-170.667969c-11.773437 0-21.332031 9.558594-21.332031 21.332031 0 11.777344 9.558594 21.335938 21.332031 21.335938h170.667969v170.664062c0 11.777344 9.558594 21.335938 21.332031 21.335938 11.777344 0 21.335938-9.558594 21.335938-21.335938v-170.664062h170.664062c11.777344 0 21.335938-9.558594 21.335938-21.335938 0-11.773437-9.558594-21.332031-21.335938-21.332031zm0 0\"\n});\n\nfunction SvgPlusMap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"426.66667pt\",\n    viewBox: \"0 0 426.66667 426.66667\",\n    width: \"426.66667pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusMap);\nexport default __webpack_public_path__ + \"static/media/plus_map.89fe7bf6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m405.332031 43h-384c-11.773437 0-21.332031-9.558594-21.332031-21.332031 0-11.777344 9.558594-21.335938 21.332031-21.335938h384c11.777344 0 21.335938 9.558594 21.335938 21.335938 0 11.773437-9.558594 21.332031-21.335938 21.332031zm0 0\"\n});\n\nfunction SvgMinusMap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"426pt\",\n    viewBox: \"0 -192 426.66667 426\",\n    width: \"426pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinusMap);\nexport default __webpack_public_path__ + \"static/media/minus_map.6eb8c621.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from 'react';\r\nimport country from 'world-map-country-shapes';\r\nimport Tooltip from './tooltip';\r\nimport Legend from './legend';\r\nimport { getColorsFromFilters } from '../../../services/calculations';\r\nimport {ReactComponent as Plus} from \"../../../icons/plus_map.svg\";\r\nimport {ReactComponent as Minus} from \"../../../icons/minus_map.svg\";\r\n\r\nimport './index.scss';\r\n\r\nconst Map = ({ summaries = [], handleClickOnCountry, globalFilters, updateFilters, handleOnMouseUp }) => {\r\n  const [selectedCountries, setSelectedCountries] = useState({});\r\n  const [customStyles, setStyle] = useState({ display: 'none' });\r\n  const [dataCountry, setDataCountry] = useState({});\r\n  const [scaleIndex, setScaleIndex] = useState(1);\r\n  const [legend, updateLegend] = useState([]);\r\n  const [diffCoeff, updateDiffCoeff] = useState([]);\r\n  const [mapPositionX, setMapPositionX] = useState(0);\r\n  const [diffX, setDiffX] = useState(0);\r\n  const [diffY, setDiffY] = useState(0);\r\n\r\n  const [mapPositionY, setMapPositionY] = useState(0);\r\n  const [isDragStart, setDragStart] = useState(0);\r\n  const [summariesAfterCalculation, updateSummaries] = useState([]);\r\n  const zoomIndex = 0.25;\r\n  const maxZoom = 8;\r\n\r\n  const showCountry = (e, country, covidDataForCountry) => {\r\n    setSelectedCountries({\r\n      [country.id]: !selectedCountries[country.id]\r\n    });\r\n\r\n    setStyle({\r\n      display: \"block\",\r\n      left: e.pageX + 1 + 'px',\r\n      top: e.pageY + 1 + 'px',\r\n    });\r\n\r\n    setDataCountry(covidDataForCountry);\r\n  };\r\n\r\n  const hideCountry = (country) => {\r\n    setStyle({\r\n      display: \"none\"\r\n    });\r\n\r\n    setSelectedCountries({\r\n      [country.id]: !selectedCountries[country.id]\r\n    });\r\n  };\r\n\r\n  const getFormatedCoefficient = (coefficient) => {\r\n    let formattedCoefficiend = parseFloat(coefficient.toFixed(1));\r\n    if (formattedCoefficiend > 1) formattedCoefficiend = 1;\r\n    if (isNaN(formattedCoefficiend)) formattedCoefficiend = 0;\r\n    if (formattedCoefficiend < 0.1) formattedCoefficiend = 0;\r\n\r\n    return formattedCoefficiend;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const listOfCoef = new Set();\r\n    const temp = summaries.sort((el1, el2) => el1.Data > el2.Data ? 1 : -1);\r\n    const diffCoeff = (temp[temp.length-1].Data - temp[0].Data);\r\n    const summariesWithCoef = summaries.map(summaryForCountry => {\r\n      const coefficient = (summaryForCountry.Data - temp[0].Data) / diffCoeff;\r\n      if (getFormatedCoefficient(coefficient) > 0) {\r\n        listOfCoef.add(getFormatedCoefficient(coefficient));\r\n      }\r\n      return {\r\n        ...summaryForCountry,\r\n        coefficient: getFormatedCoefficient(coefficient)\r\n      }\r\n    });\r\n\r\n    updateSummaries(summariesWithCoef);\r\n    updateLegend([...listOfCoef]);\r\n    updateDiffCoeff(diffCoeff);\r\n  }, [summaries]);\r\n\r\n  const getColorForCountry = (countryID, covidDataForCountry) => {\r\n    if (covidDataForCountry.Country === globalFilters.geography) {\r\n       return 'green';\r\n    }\r\n\r\n    if (selectedCountries[countryID]) {\r\n      return \"#fde5bc\";\r\n    }\r\n    return `rgba(${getColorsFromFilters(globalFilters.status)},${covidDataForCountry.coefficient || 0.1})`;\r\n  };\r\n\r\n  const mapCountries = country.map(country => {\r\n    const covidDataForCountry = summariesAfterCalculation.find(summaryForCountry => summaryForCountry.CountryCode === country.id) || {};\r\n\r\n    return (\r\n      <path\r\n        key={country.id}\r\n        d={country.shape}\r\n        style={{\r\n          fill: getColorForCountry(country.id, covidDataForCountry),\r\n          cursor: \"pointer\",\r\n          stroke: \"#555\"\r\n        }}\r\n        onMouseOver={(evt) => showCountry(evt, country, covidDataForCountry)}\r\n        onMouseOut={() => hideCountry(country)}\r\n        onClick={() => handleClickOnCountry(covidDataForCountry.Country)}\r\n      >\r\n      </path>\r\n    )\r\n  });\r\n\r\n  const scaleMap = (newScaleParam) => {\r\n    if (newScaleParam > zoomIndex && newScaleParam < maxZoom) {\r\n      setScaleIndex(newScaleParam);\r\n    }\r\n  };\r\n\r\n  const handleMouseWeel = (e) => {\r\n    e.stopPropagation();\r\n    if (e.deltaY < 0) {\r\n      scaleMap(scaleIndex + zoomIndex);\r\n    } else {\r\n      scaleMap(scaleIndex - zoomIndex);\r\n    }\r\n  };\r\n\r\n  const handleMouseDown = (e) => {\r\n    e.stopPropagation();\r\n    setDragStart(true);\r\n    setMapPositionX(e.pageX - diffX * scaleIndex);\r\n    setMapPositionY(e.pageY - diffY * scaleIndex);\r\n  };\r\n\r\n  const handleMouseUp = (e) => {\r\n    e.stopPropagation();\r\n    setDragStart(false);\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    e.stopPropagation();\r\n    if (isDragStart) {\r\n      setDiffX((e.pageX - mapPositionX) / scaleIndex);\r\n      setDiffY((e.pageY - mapPositionY) / scaleIndex);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip customStyles={customStyles} dataCountry={dataCountry} globalFilters={globalFilters}/>\r\n      <div className='map-container' onWheel={handleMouseWeel}>\r\n        <div className=\"map-buttons\">\r\n          <button\r\n            onClick={() => scaleMap(scaleIndex - zoomIndex)}\r\n            disabled={scaleIndex === 2 * zoomIndex}\r\n            className='map-button'\r\n          >\r\n            <div><Minus className=\"\" style={{}} /></div>\r\n          </button>\r\n          <button\r\n            onClick={() => scaleMap(scaleIndex + zoomIndex)}\r\n            disabled={scaleIndex === maxZoom - zoomIndex}\r\n            className='map-button'\r\n          >\r\n            <div><Plus className=\"\" style={{}} /></div>\r\n          </button>\r\n        </div>\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          height=\"auto\"\r\n          width=\"auto\"\r\n          viewBox=\"0 0 2000 1001\"\r\n          style={{transform: `scale(${scaleIndex}) translate(${diffX}px, ${diffY}px`}}\r\n          className=\"map\"\r\n          onMouseDown={handleMouseDown}\r\n          onMouseUp={handleMouseUp}\r\n          onMouseMove={handleMouseMove}\r\n        >\r\n          {mapCountries}\r\n        </svg>\r\n      </div>\r\n\r\n      <Legend data={legend} diffCoeff={diffCoeff} globalFilters={globalFilters} updateFilters={updateFilters} handleOnMouseUp={handleOnMouseUp}/>\r\n    </>\r\n  )\r\n};\r\n\r\n\r\nexport default React.memo(Map);\r\n","import Map from './map';\r\n\r\nconst WorldMap = ({ summaries, handleClickOnCountry, globalFilters, updateFilters, handleOnMouseUp }) => {\r\n  return (\r\n    <div className=\"world-map-container\">\r\n      <Map summaries={summaries} handleClickOnCountry={handleClickOnCountry} globalFilters={globalFilters} updateFilters={updateFilters} handleOnMouseUp={handleOnMouseUp}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorldMap;\r\n","import React from 'react';\r\nimport { Chart } from 'react-google-charts';\r\nimport { format } from 'date-fns';\r\nimport { filters } from '../../../constants/filters';\r\nimport { getColorsFromFilters } from '../../../services/calculations';\r\n\r\nconst chartEvents = [\r\n  {\r\n    eventName: \"select\",\r\n    callback({chartWrapper}) {\r\n      console.log(\"Selected \", chartWrapper.getChart().getSelection());\r\n    }\r\n  }\r\n];\r\n\r\nconst prepereOptions = (data, statuses) => {\r\n  if(!data || data.length === 0) {\r\n    return {};\r\n  }\r\n\r\n  return {\r\n    title: '',\r\n    hAxis: {title: \"Days\", viewWindow: {min: 1, max: data.length}},\r\n    vAxis: {title: \"\", viewWindow: {min: 0, max: calculateMaxY(data)}},\r\n    legend: { position: 'top', maxLines: 3 },\r\n    colors: getColors(statuses),\r\n    chartArea: { marginleft: '4em', width: '75%', height: '70%' },\r\n    animation: {\r\n      duration: 600,\r\n      easing: 'out',\r\n      startup: true,\r\n    },\r\n  }\r\n};\r\n\r\nconst getColors = (statuses) => {\r\n  let colors = [];\r\n  statuses.forEach(status => {\r\n    colors.push(getColor(status));\r\n  });\r\n  return colors;\r\n};\r\n\r\nconst getColor = (status) => {\r\n  return `rgb(${getColorsFromFilters(status)})`;\r\n};\r\n\r\nconst calculateMaxY = (data) => {\r\n  if (!data.length) {\r\n    return;\r\n  }\r\n\r\n  return data.reduce((acc, curr) => acc.Data > curr.Data ? acc : curr);\r\n};\r\n\r\nconst prepereData = (data, status, compare) => {\r\n  let resultArr = [];\r\n  if (!data || !data.length || !Array.isArray(data)) {\r\n    return [];\r\n  }\r\n  if (compare) {\r\n    resultArr.push([\"Date\", \"Confirmed\", \"Recovered\", \"Deaths\"]);\r\n    data.forEach((el) => resultArr.push([format(new Date(el.Date), 'dd-MMM-yyyy'), el.TotalConfirmed, el.TotalRecovered, el.TotalDeaths]));\r\n  } else {\r\n    resultArr.push([\"Date\", \"Number of people\"]);\r\n    data.forEach((el) => resultArr.push([format(new Date(el.Date), 'dd-MMM-yyyy'), el[status]]));\r\n  }\r\n\r\n  return resultArr;\r\n};\r\n\r\nconst CovidChart = ({dataWorld, status, compare}) => {\r\n  const correctData = prepereData(dataWorld, status, compare);\r\n  const statuses = compare ? [filters.status.confirmed, filters.status.recovered, filters.status.deaths] : [status];\r\n  const correctOptions = prepereOptions(dataWorld, statuses);\r\n\r\n  return correctData.length ? (\r\n    <Chart\r\n      chartType=\"AreaChart\"\r\n      data={correctData}\r\n      options={correctOptions}\r\n      graphID=\"ScatterChart\"\r\n      className=\"chart\"\r\n      chartEvents={chartEvents}\r\n     />\r\n  ) : null;\r\n};\r\n\r\nexport default CovidChart;\r\n","import React, { useState } from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport CovidChart from './chart';\r\n\r\nimport { ReactComponent as MinimizeIcon } from \"../../icons/small.svg\";\r\nimport { ReactComponent as MaximizeIcon } from \"../../icons/plus.svg\";\r\nimport { ReactComponent as Expand } from \"../../icons/expand.svg\";\r\n\r\nimport Filters from '../filters';\r\n\r\nconst Graph = ({ dataWorld, globalFilters, updateFilters, dataForCountry, handleOnMouseUp }) => {\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [fullSize, setFullSize] = useState(true);\r\n  const [minimize, setMinimize] = useState(true);\r\n  const [maximize, setMaximize] = useState(false);\r\n\r\n  const [compare, setCompare] = useState(false);\r\n  const defaultPosition = { x: 0, y: 0 };\r\n\r\n\r\n  const handleToggleCompare = () => {\r\n    setCompare(!compare);\r\n  };\r\n\r\n  const onCheckChange = (e) => {\r\n    if (e.target.checked) {\r\n      updateFilters({ world: true });\r\n    } else {\r\n      updateFilters({ world: false });\r\n      if (dataForCountry && globalFilters.geography) {\r\n        dataForCountry(globalFilters.geography);\r\n      } else {\r\n        dataForCountry('Belarus');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFullSize = () => {\r\n    setExpanded(!expanded);\r\n    setMinimize(!minimize);\r\n  };\r\n\r\n  const handleMinimize = () => {\r\n    setFullSize(!fullSize)\r\n    setMaximize(true)\r\n    setMinimize(false)\r\n\r\n  }\r\n\r\n  const handleMaximize = () => {\r\n    setFullSize(!fullSize)\r\n    setMaximize(false)\r\n    setMinimize(true)\r\n  }\r\n\r\n  const options = { 'status': true, 'relative': true };\r\n\r\n  return (\r\n    <Draggable position={expanded ? defaultPosition : null} onMouseDown={handleOnMouseUp}>\r\n      <div className={`graph-wrapper ${expanded ? 'expanded' : ''}`}>\r\n        <div className=\"controls\">\r\n          <div className=\"title\">Chart</div>\r\n\r\n          <MaximizeIcon className=\"controls-icons\" onClick={handleMaximize} style={{ display: maximize ? 'inline-block' : 'none' }} />\r\n\r\n          <MinimizeIcon className=\"controls-icons\" onClick={handleMinimize} style={{ display: minimize ? 'inline-block' : 'none' }} />\r\n\r\n          <Expand className=\"controls-icons\" onClick={handleFullSize} style={{ display: fullSize ? 'inline-block' : 'none' }} />\r\n\r\n        </div>\r\n        {\r\n          fullSize ? (\r\n            <div className=\"block-inner\">\r\n              <h4>{globalFilters.world ? 'World' : globalFilters.geography}</h4>\r\n              <div className=\"border-stroke\">\r\n                <div className=\"filters\">\r\n                  <Filters globalFilters={globalFilters} updateFilters={updateFilters} dataForCountry={dataForCountry} options={options} />\r\n                  <div className=\"adv-filters\">\r\n                    <div>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        name=\"world\"\r\n                        value=\"\"\r\n                        onChange={onCheckChange}\r\n                        checked={globalFilters.world === true}\r\n                      />\r\n                      <label htmlFor=\"world\">World</label>\r\n                    </div>\r\n                    <div>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id=\"compare\"\r\n                        name=\"compare\"\r\n                        value=\"1\"\r\n                        onChange={handleToggleCompare}\r\n                      />\r\n                      <label htmlFor=\"compare\">Compare</label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"chart-container\">\r\n                <CovidChart dataWorld={dataWorld} status={globalFilters.status} compare={compare} />\r\n              </div>\r\n            </div>\r\n          ) : null\r\n        }\r\n      </div>\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default React.memo(Graph);\r\n","import React, {useEffect, useState} from 'react';\r\nimport ClockLoader from \"react-spinners/ClockLoader\";\r\nimport {getDataCountryFromDays, getDataWorldFromDays, getSummaries} from '../../api/covid';\r\nimport {getFlags} from \"../../api/flags\";\r\nimport {filters} from \"../../constants/filters\";\r\nimport Summary from '../summary';\r\nimport CountryList from '../countryList';\r\nimport WorldMap from '../worldMap';\r\nimport Graph from '../graph';\r\nimport {getData, getDataCountries} from '../../services/calculations';\r\nimport {missedFlags, missedPopulations} from '../../constants/missed';\r\nimport '../../styles/main.scss';\r\n\r\nconst Root = () => {\r\n    const [summaries, setSummaries] = useState({});\r\n    const [flags, setFlags] = useState([]);\r\n    const [dataWorldFromDays, setDataWorld] = useState([]);\r\n    const [dataCountryFromDays, setDataCountry] = useState([]);\r\n    const [dataAll, setDataAll] = useState([]);\r\n    const [dataMap, setDataMap] = useState([]);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const [indicatorsForFilter, updateIndicators] = useState({\r\n        status: filters.status.confirmed,\r\n        period: filters.period.all,\r\n        relative: filters.relative.absolute,\r\n        geography: filters.geography,\r\n        world: filters.world,\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const flagsResult = await getFlags();\r\n                const summariesResult = await getSummaries();\r\n                const dataWorldFromDaysResult = await getDataWorldFromDays();\r\n\r\n                summariesResult.Countries = summariesResult.Countries.map(country => {\r\n                    return {\r\n                        ...country,\r\n                        population: missedPopulations[country.Country] || flagsResult.find(flag => flag.name === country.Country).population,\r\n                        flag: missedFlags[country.Country] || flagsResult.find(flag => flag.name === country.Country).flag,\r\n                    }\r\n                });\r\n\r\n                setSummaries(summariesResult);\r\n                setDataWorld(dataWorldFromDaysResult);\r\n                setFlags(flagsResult);\r\n                setIsLoaded(true);\r\n            } catch (error) {\r\n                setError('API is not available. Could you please refresh page or try a bit later.');\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (indicatorsForFilter.world) {\r\n            setDataAll(getData(dataWorldFromDays, indicatorsForFilter));\r\n        } else if (indicatorsForFilter.geography) {\r\n            const country = indicatorsForFilter.geography;\r\n            const population = missedPopulations[country] || flags.find(flag => flag.name === country).population;\r\n            setDataAll(getData(dataCountryFromDays, indicatorsForFilter, population));\r\n        }\r\n        //для карты\r\n        setDataMap(getDataCountries(summaries.Countries, indicatorsForFilter));\r\n    }, [indicatorsForFilter, summaries, dataWorldFromDays, dataCountryFromDays, flags]);\r\n\r\n    const updateFilter = (newFilterParams) => {\r\n        updateIndicators({\r\n            ...indicatorsForFilter,\r\n            ...newFilterParams\r\n        });\r\n    };\r\n\r\n    const getDataForCountry = async (country) => {\r\n        //Тут уже страна выбрана\r\n        updateIndicators({\r\n            ...indicatorsForFilter,\r\n            geography: country,\r\n            world: false\r\n        });\r\n\r\n        const dataCountryFromDaysResult = await getDataCountryFromDays(country);\r\n        setDataCountry(dataCountryFromDaysResult);\r\n    };\r\n\r\n    const changeZIndex = (e) => {\r\n        document.querySelectorAll('.react-draggable').forEach(el => {\r\n            el.style.zIndex = \"2\";\r\n        });\r\n        e.target.closest('.react-draggable').style.zIndex = \"6000\";\r\n    };\r\n\r\n    return (\r\n        <div className=\"main-container\">\r\n            {\r\n                !isLoaded ? (\r\n                    <div className=\"main-loader\">\r\n                        <ClockLoader\r\n                            size={100}\r\n                            color={\"#ff3440\"}\r\n                            loading={!isLoaded}\r\n                        />\r\n                        {error}\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        <CountryList\r\n                            summaries={summaries.Countries}\r\n                            flags={flags}\r\n                            globalFilters={indicatorsForFilter}\r\n                            updateFilters={updateFilter}\r\n                            handleClickOnCountry={getDataForCountry}\r\n                            handleOnMouseUp={changeZIndex}\r\n                        />\r\n                        <Summary\r\n                            summaries={summaries.Global}\r\n                            summariesCountries={summaries.Countries}\r\n                            globalFilters={indicatorsForFilter}\r\n                            updateFilters={updateFilter}\r\n                            handleOnMouseUp={changeZIndex}\r\n                        />\r\n                        <WorldMap\r\n                            summaries={dataMap}\r\n                            globalFilters={indicatorsForFilter}\r\n                            handleClickOnCountry={getDataForCountry}\r\n                            updateFilters={updateFilter}\r\n                            handleOnMouseUp={changeZIndex}\r\n                        />\r\n                        <Graph dataWorld={dataAll}\r\n                               globalFilters={indicatorsForFilter}\r\n                               updateFilters={updateFilter}\r\n                               dataForCountry={getDataForCountry}\r\n                               handleOnMouseUp={changeZIndex}\r\n                        />\r\n                        <footer className=\"footer\">\r\n                            <a href=\"https://rs.school/js/\">\r\n                                <img className=\"footer-image\" src=\"https://rs.school/images/rs_school_js.svg\" alt=\"RSSchool logo\"/>\r\n                            </a>\r\n                            <a className=\"footer-link\" href=\"https://github.com/choco-cat/\">Natallia Panfilenka</a>\r\n                            <a className=\"footer-link\" href=\"https://github.com/zedwag/\">Aliaksandr Kazlouski</a>\r\n                            <a className=\"footer-link\" href=\"https://github.com/kvadeck/\">Nikolay Volzhenin</a>\r\n                        </footer>\r\n                    </>\r\n\r\n                )\r\n            }\r\n        </div>\r\n)\r\n    ;\r\n};\r\n\r\nexport default Root;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Root from './components/root';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Root />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}